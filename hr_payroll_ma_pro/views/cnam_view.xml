<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="hr_cnam_tree_view" model="ir.ui.view">
            <field name="name">hr.cnam.tree.view</field>
            <field name="model">hr.cnam</field>
            <field name="arch" type="xml">
                <tree name="Données de la paie"  >
				<field name="name"/>
                    <field name="company_id"/>
					<field name="date_document"/>  
                    <field name="year"/>					
					 <field name="month"/>  
                    <field name="state"/>
                                 
				
                </tree>
            </field>
        </record>

        <record id="hr_cnam_form_view" model="ir.ui.view">
            <field name="name">hr.cnam.form.view</field>
            <field name="model">hr.cnam</field>
            <field name="arch" type="xml">
                <form name="Données de la paie">
                    <header>
                        <!-- <button string="Importer les données de la paie" name="cnam_generate" type="object" states="draft,waiting" class="oe_highlight"/> -->
						 <!-- <button name="print_report" type="object" string="Imprimer l'état" class="oe_highlight"/> -->
                         <!-- <button string="Annuler" class="btn btn-default" special="cancel"/> -->
                        <button string="Confirmer" name="cnam_confirm" type="object" attrs="{'invisible': [('state','not in',('draft'))]}" class="oe_highlight"/>
                        <button string="Terminer" name="cnam_payed" type="object" attrs="{'invisible': [('state','not in',('waiting'))]}" class="oe_highlight"/>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <sheet>
                        <h2>
                            <field name="name" class="oe_inline" readonly="1"/>
                        </h2>
                        <group col="4">
                          
							<field name="year"/> 
							<field name="date_from"/>		
							<field name="month"/> 
						    <field name="date_to"/>
							<field name="brut_total"/>
							<field name="nemploye"/>
                            <field name="company_id" groups="base.group_multi_company"/>
                       
					</group>
                 <group col="2">
				<button string="Importer les données de la paie" name="cnam_generate" type="object" states="draft,waiting" class="oe_highlight"/>
                        	 
				</group>

                        <notebook>
                            <page string="Données de la paie">
                                <field name="cnam_lines" colspan="4" nolabel="1" readonly="1">
                                    <tree string="LINES" editable="bottom">
                                        <field name="cnam_id" invisible="1"/>
										<field name="N_Num_Assure"/>
                                        <field name="L_Nom"/>
										<field name="L_Prenom"/>
                                        <field name="Num_CIN"/>
                                        <field name="N_Jours_Declares"/>
										<field name="N_Salaire_Brut"/>
										<field name="L_Situation"/>
                                    </tree>
                                </field>
                            </page>
                 
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_cnam_form" model="ir.actions.act_window">
            <field name="name">Importer les données de la paie odoo</field>
			<field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.cnam</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="hr_cnam_tree_view"/>
            <field name="limit">12</field>
        </record>

           <!-- <menuitem -->
                <!-- name="Damancom-Cnss" -->
                <!-- id="menu_hr_payslip_reports" -->
                <!-- parent="hr_payroll.menu_hr_payroll_root" -->
                <!-- groups="hr_payroll.group_hr_payroll_user" -->
                <!-- sequence="45"/> -->


        <menuitem
            id="cnam_menu_view"
            name="Etape 2 - Importer les données de la paie odoo"
            action="action_cnam_form"
            parent="hr_payroll_ma_pro.menu_hr_payslip_reports"
            sequence="2"
        />
    </data>
</odoo>
